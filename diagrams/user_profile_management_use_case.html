<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile Management Use Case Diagram</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            mermaid.initialize({
                startOnLoad: true,
                theme: 'default',
                flowchart: { useMaxWidth: false }
            });
        });
    </script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            padding: 0;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
        }
        .diagram-container {
            margin-top: 30px;
        }
        .description {
            margin-top: 20px;
            padding: 15px;
            background-color: #f9f9f9;
            border-left: 4px solid #4CAF50;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>User Profile Management Use Case Diagram</h1>
        
        <div class="diagram-container">
            <pre class="mermaid">
                %%{init: {'theme': 'neutral', 'themeVariables': { 'primaryColor': '#f0f8ff', 'edgeLabelBackground':'#ffffff', 'tertiaryColor': '#fff0f0'}}}%%
                flowchart TB
                    subgraph System["User Profile Management"]
                        ViewProfile["View Profile"]
                        EditProfile["Edit Profile Information"]
                        ViewReputation["View Reputation Score"]
                        ViewPosts["View User Posts"]
                        ChangePassword["Change Password"]
                        ManageAvatar["Manage Avatar"]
                        DeleteAccount["Delete Account"]
                    end
                    
                    subgraph Actors
                        User((Authenticated User))
                        Admin((Administrator))
                    end
                    
                    User -->|Can| ViewProfile
                    User -->|Can| EditProfile
                    User -->|Can| ViewReputation
                    User -->|Can| ViewPosts
                    User -->|Can| ChangePassword
                    User -->|Can| ManageAvatar
                    User -->|Can Request| DeleteAccount
                    
                    Admin -->|Can| ViewProfile
                    Admin -->|Can| DeleteAccount
                    
                    ManageAvatar -->|Uses| GenerateInitials["Generate Initials Avatar"]
                    
                    EditProfile -.->|Includes| ValidateData["Validate User Data"]
                    ChangePassword -.->|Includes| ValidatePassword["Validate Password Strength"]
                    
                    style User fill:#f9f,stroke:#333,stroke-width:2px
                    style Admin fill:#bbf,stroke:#333,stroke-width:2px
                    style System fill:#f5f5f5,stroke:#333,stroke-width:1px
                    style ManageAvatar fill:#ffd700,stroke:#333,stroke-width:1px
                    style GenerateInitials fill:#90ee90,stroke:#333,stroke-width:1px
            </pre>
        </div>
        
        <div class="description">
            <h3>Diagram Description:</h3>
            <p>This use case diagram illustrates the user profile management features in the "What's It Like" application:</p>
            <ul>
                <li><strong>Profile Information:</strong> Users can view and edit their personal information</li>
                <li><strong>Reputation System:</strong> Users can view their reputation score built through community participation</li>
                <li><strong>Content Management:</strong> Users can view their post history</li>
                <li><strong>Security Features:</strong> Users can change their password with validation for password strength</li>
                <li><strong>Avatar Management:</strong> The system generates avatars based on user initials from their name or email</li>
                <li><strong>Account Control:</strong> Users can request account deletion, which may require administrator approval</li>
            </ul>
            <p>The diagram highlights the avatar generation system that uses user initials consistently across the application, as well as the validation processes for user data and password changes to maintain data integrity and security.</p>
        </div>
    </div>
</body>
</html>
