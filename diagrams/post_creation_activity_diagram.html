<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Post Creation Activity Diagram</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            mermaid.initialize({
                startOnLoad: true,
                theme: 'default',
                flowchart: { useMaxWidth: false }
            });
        });
    </script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            padding: 0;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
        }
        .diagram-container {
            margin-top: 30px;
        }
        .description {
            margin-top: 20px;
            padding: 15px;
            background-color: #f9f9f9;
            border-left: 4px solid #4CAF50;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Post Creation Activity Diagram</h1>
        
        <div class="diagram-container">
            <pre class="mermaid">
                %%{init: {'theme': 'neutral', 'themeVariables': { 'primaryColor': '#f0f8ff', 'edgeLabelBackground':'#ffffff', 'tertiaryColor': '#fff0f0'}}}%%
                stateDiagram-v2
                    [*] --> CheckUserStatus
                    
                    state auth_check <<choice>>
                    CheckUserStatus --> auth_check
                    auth_check --> LoginProcess: Not Authenticated
                    auth_check --> VerifyLocation: Authenticated
                    
                    LoginProcess --> [*]: Cannot Create Post
                    
                    state location_check <<choice>>
                    VerifyLocation --> location_check
                    location_check --> CreatePostForm: Location in Bosnia
                    location_check --> LocationError: Not in Bosnia
                    
                    LocationError --> RetryLocation: Try Again
                    RetryLocation --> VerifyLocation
                    LocationError --> [*]: Cancel Post Creation
                    
                    CreatePostForm --> SubmitPost: User Completes Form
                    
                    state form_valid <<choice>>
                    SubmitPost --> form_valid: Validate Submission
                    form_valid --> ProcessPost: Valid Form
                    form_valid --> ShowErrors: Invalid Form
                    
                    ShowErrors --> CreatePostForm: Fix and Resubmit
                    
                    ProcessPost --> SavePost: All Checks Pass
                    SavePost --> PostComplete
                    
                    PostComplete --> [*]: Post Created Successfully
            </pre>
        </div>
        
        <div class="description">
            <h3>Diagram Description:</h3>
            <p>This simplified activity diagram shows the essential post creation flow in the "What's It Like" application:</p>
            <ul>
                <li><strong>Main Flow:</strong> Shows the primary path from initiating post creation to successful completion</li>
                <li><strong>Key Decision Points:</strong>
                    <ul>
                        <li>Authentication check: Is the user logged in?</li>
                        <li>Location verification: Is the user in Bosnia?</li>
                        <li>Form validation: Is the post content valid?</li>
                    </ul>
                </li>
                <li><strong>Core Process:</strong> Creating a post requires authentication, location verification, and valid content</li>
                <li><strong>Outcomes:</strong> Either successful post creation or appropriate error handling with retry options</li>
            </ul>
            <p>This high-level diagram focuses on the essential decision points rather than implementation details, showing how the system ensures posts are only created by authenticated users physically located in Bosnia with valid content.</p>
        </div>
    </div>
</body>
</html>
